<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Aplicacion 01</title> <!-- CAMBIAR TITULO -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.5.1/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.5.1/dist/leaflet.js"
   integrity="sha512-GffPMF3RvMeYyc1LWMHtK8EbPv0iNZ8/oTtHPx9/cc2ILxQ+u905qIwdpULaqDkyBKgOaB57QTMg7ztg8Jm2Og=="
   crossorigin=""></script>
   <script src= "https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"> </script>
   <script src= "cent.js"> </script>
   <script src= "gla.js"> </script>
   <script src="lbl/leaflet-bing-layer.js"></script>
    <style>
/* ELEMENTO MAPA*/ 
     #map{ 
        width: 100%;
        height: 500px;
        box-shadow: 5px 5px 5px #888;
    }
    </style>
</head>
<body style= "text-align: center">
    <header><H1>Aplicacion 01</H1></header>
    <div id= 'map'></div> 
<script>
// HEATMAP GLACIAR
// GLACIARES VECTOR
    var glaciar = L.geoJSON (gla);
// BASE TESELADA GEOSERVER
    var MBASE = L.tileLayer.wms("http://localhost:8080/geoserver/app1/wms", {
        crs: L.CRS.EPSG4326, 
        tms: true, 
        layers: 'app1:BaseWMS',
        format: 'image/png',
        transparent: true, 
    });
//ESRI WORLD IMAGERY
    var ESRI1 = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
        attributions: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community',
    });
// OPEN MAP SURFER HILLSHADE
    var HILL = L.tileLayer ('https://maps.heigit.org/openmapsurfer/tiles/asterh/webmercator/{z}/{x}/{y}.png', {
        attributions: 'Imagery from <a href="http://giscience.uni-hd.de/">GIScience Research Group @ University of Heidelberg</a> | Map data  <a href="https://lpdaac.usgs.gov/products/aster_policies">ASTER GDEM</a>, <a href="http://srtm.csi.cgiar.org/">SRTM</a>',
    });
// GRUPO DE CAPAS WORLD IMAGERY+SHADERELIEF
    var HILLIMG = L.layerGroup ([ESRI1, HILL])
// SHADERELIF
    var SHAD = L.tileLayer ('https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}',{
        attributions: 'Tiles &copy; Esri &mdash; Source: Esri',
    });
// BINGMAPS
    var BING = L.tileLayer.bing (
        'ArSPuxaxB8bp-VtsbY3jIUaocR9WLqKRM5X1rhjQLHHwolRjr5oAoUZ436gUVrvM'
    );
// CONTROLES DE CAPA
    var baseMaps = {
        "SHADERELIEF": SHAD,
        "BING SAT": BING,
        "HILLSHADE+SAT": HILLIMG,
    };
    var overlayMaps = {
        "Base tesela": MBASE,
    };
 // MAPA
    var map = L.map ('map', {
            crs: L.CRS.EPSG3857,  
            center: [-34.238347,-70.250921],
            minZoom: 7,
            maxZoom: 13,
            zoom: 7,
            maxBounds: ([[-35.494268, -70.735148],
            [-32.963408, -69.766694]]),
            layers: [HILLIMG, SHAD, BING, MBASE, glaciar],
        });
// CONTROLES
    L.control.scale().addTo (map);
    L.control.layers(baseMaps, overlayMaps).addTo(map);
</script>
</body>
</html>